# CustomASM Support for SYMPL Universal Floating-Point ISA
SYMPL ISA Rule table for open-source CustomASM cross-assembler.

(August 30, 2021) This repository contains a Rule table that can be used with the open-source CustomASM rule-based cross-assembler to assemble SYMPL ISA assembly language source files whose binary output can be uploaded to the ULX3S FPGA board.  Also available at this repository is a version of the Blue Tooth version of the SYMPL IEEE 754-2019 demo that has been modified to conform to the current CustomASM syntax.  The source and assembled files are:
```
SYMPL_demo1.bat               //MSDOS batch file for executing CustomASM to generate listing file and executable binary file
SYMPL_demo1_BT_custom.asm     //assembly source file converted for use with CustomASM syntax
SYMPL_demo1_BT_custom.hex     //assembled binary executable that can be uploaded to ULX3S FPGA board
SYMPL_demo1_BT_custom.lst     //assembled listing file generated by CustomASM
SYMPL_demo1_BT_custom.sym     //symbol file generated by CustomASM
SYMPLrules.tbl                //SYMPL ISA Rules table for use with CustomASM
```
To download your free copy of the open-source CustomASM, visit:  

https://github.com/hlorenzi/customasm

Upon first inspection of the SYMPL ISA demo source file, you will notice that the SYMPL ISA syntax was modified to conform to the limitations of the CustomASM syntax.  Namely, CustomASM currently does not permit the use of ":" and "=" characters in the target ISA syntax.  To overcome this limitation for the time being, in the demo source code, "|" is substitued for ":" and "<-" is substitued for "=".

EXAMPLE Original SYMPL ISA Syntax (note that the value to the left of the ":" is the size specifier for dest, srcA and srcB)
```
       _     _1:compare = (_1:*AR1[0], _1:#0x00)    ;see if current char is a null character 
       _     _1:cout = _1:*AR1++[1]                 ;copy first char in buffer to cout and increment to next character

       _     _1:LEDreg = _1:buttons                 ;capture buttons and write them to LEDs
```
EXAMPLE SYMPL ISA Syntax Adapted for use with CustomASM
```
       _     _1|compare <- (_1|*AR1[0], _1|#0x00)    ;see if current char is a null character 
       _     _1|cout <- _1|*AR1++[1]                 ;copy first char in buffer to cout and increment to next character

       _     _1|LEDreg <- _1|buttons                 ;capture buttons and write them to LEDs
```
In the meantime, I will attempt to contact the author of CustomASM and see if I can convince him to permit use of ":" and "=" in the user ISA syntax.
For more information on the SYMPL Universal Floating-Point ISA, refer to the following documents:

https://github.com/jerry-D/SYMPL_IEEE754-2019_ISA/blob/main/UFP_ISA.pdf
https://github.com/jerry-D/HedgeHog-Fused-Spiking-Neural-Network-Emulator-Compute-Engine/blob/master/HedgeHog.pdf
https://github.com/jerry-D/64-bit-Universal-Floating-Point-ISA-Compute-Engine/blob/master/SYMPL_neuron16c.pdf


